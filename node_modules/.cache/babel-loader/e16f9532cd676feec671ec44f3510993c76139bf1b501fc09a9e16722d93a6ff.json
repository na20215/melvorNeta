{"ast":null,"code":"import { defineStore } from 'pinia';\nexport const useActiveStore = defineStore('activePage', {\n  state: () => ({\n    activeSkill: null,\n    skillTimers: {},\n    skillData: {}\n  }),\n  actions: {\n    activateSkill(skillName, skillData) {\n      if (this.activeSkill) {\n        this.deactivateSkill(this.activeSkill); // 先停用当前技能\n      }\n      this.activeSkill = skillName;\n      this.skillData[skillName] = skillData;\n      this.startTimer(skillName);\n    },\n    deactivateSkill(skillName) {\n      if (this.skillTimers[skillName]) {\n        clearInterval(this.skillTimers[skillName]); // 清除计时器\n        delete this.skillTimers[skillName];\n      }\n      this.skillData[skillName].isActive = false;\n      this.activeSkill = null;\n    },\n    startTimer(skillName) {\n      const skill = this.skillData[skillName];\n      if (!skill) return;\n      this.skillTimers[skillName] = setInterval(() => {\n        // 每次执行计时器逻辑，例如添加物品\n        this.addItem(skill.reward);\n        // 这里可以加上时间限制\n      }, skill.cutTime * 1000);\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useActiveStore","state","activeSkill","skillTimers","skillData","actions","activateSkill","skillName","deactivateSkill","startTimer","clearInterval","isActive","skill","setInterval","addItem","reward","cutTime"],"sources":["C:/Users/10433/Downloads/vues/vue-cli-01-a-new-vue-project/src/stores/skillPark.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useActiveStore = defineStore('activePage', {\r\n  state: () => ({\r\n    activeSkill: null, \r\n    skillTimers: {},\r\n    skillData: {} \r\n  }),\r\n\r\n  actions: {\r\n    activateSkill(skillName, skillData) {\r\n      if (this.activeSkill) {\r\n        this.deactivateSkill(this.activeSkill); // 先停用当前技能\r\n      }\r\n      this.activeSkill = skillName;\r\n      this.skillData[skillName] = skillData;\r\n      this.startTimer(skillName);\r\n    },\r\n\r\n    deactivateSkill(skillName) {\r\n      if (this.skillTimers[skillName]) {\r\n        clearInterval(this.skillTimers[skillName]); // 清除计时器\r\n        delete this.skillTimers[skillName];\r\n      }\r\n      this.skillData[skillName].isActive = false;\r\n      this.activeSkill = null;\r\n    },\r\n\r\n    startTimer(skillName) {\r\n      const skill = this.skillData[skillName];\r\n      if (!skill) return;\r\n\r\n      this.skillTimers[skillName] = setInterval(() => {\r\n        // 每次执行计时器逻辑，例如添加物品\r\n        this.addItem(skill.reward);\r\n        // 这里可以加上时间限制\r\n      }, skill.cutTime * 1000);\r\n    },\r\n  }\r\n});\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,cAAc,GAAGD,WAAW,CAAC,YAAY,EAAE;EACtDE,KAAK,EAAEA,CAAA,MAAO;IACZC,WAAW,EAAE,IAAI;IACjBC,WAAW,EAAE,CAAC,CAAC;IACfC,SAAS,EAAE,CAAC;EACd,CAAC,CAAC;EAEFC,OAAO,EAAE;IACPC,aAAaA,CAACC,SAAS,EAAEH,SAAS,EAAE;MAClC,IAAI,IAAI,CAACF,WAAW,EAAE;QACpB,IAAI,CAACM,eAAe,CAAC,IAAI,CAACN,WAAW,CAAC,CAAC,CAAC;MAC1C;MACA,IAAI,CAACA,WAAW,GAAGK,SAAS;MAC5B,IAAI,CAACH,SAAS,CAACG,SAAS,CAAC,GAAGH,SAAS;MACrC,IAAI,CAACK,UAAU,CAACF,SAAS,CAAC;IAC5B,CAAC;IAEDC,eAAeA,CAACD,SAAS,EAAE;MACzB,IAAI,IAAI,CAACJ,WAAW,CAACI,SAAS,CAAC,EAAE;QAC/BG,aAAa,CAAC,IAAI,CAACP,WAAW,CAACI,SAAS,CAAC,CAAC,CAAC,CAAC;QAC5C,OAAO,IAAI,CAACJ,WAAW,CAACI,SAAS,CAAC;MACpC;MACA,IAAI,CAACH,SAAS,CAACG,SAAS,CAAC,CAACI,QAAQ,GAAG,KAAK;MAC1C,IAAI,CAACT,WAAW,GAAG,IAAI;IACzB,CAAC;IAEDO,UAAUA,CAACF,SAAS,EAAE;MACpB,MAAMK,KAAK,GAAG,IAAI,CAACR,SAAS,CAACG,SAAS,CAAC;MACvC,IAAI,CAACK,KAAK,EAAE;MAEZ,IAAI,CAACT,WAAW,CAACI,SAAS,CAAC,GAAGM,WAAW,CAAC,MAAM;QAC9C;QACA,IAAI,CAACC,OAAO,CAACF,KAAK,CAACG,MAAM,CAAC;QAC1B;MACF,CAAC,EAAEH,KAAK,CAACI,OAAO,GAAG,IAAI,CAAC;IAC1B;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}