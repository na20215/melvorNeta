{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { levelList } from '../data/levelList';\nexport const useSkillStore = defineStore('skills', {\n  state: () => ({\n    skills: {\n      战斗等级: {\n        level: 1\n      },\n      攻击: {\n        level: 1,\n        exp: 0\n      },\n      力量: {\n        level: 1,\n        exp: 0\n      },\n      防御: {\n        level: 1,\n        exp: 0\n      },\n      生命值: {\n        level: 10,\n        exp: 0\n      },\n      远程: {\n        level: 1,\n        exp: 0\n      },\n      魔法: {\n        level: 1,\n        exp: 0\n      },\n      祝祭: {\n        level: 1,\n        exp: 0\n      },\n      屠杀者: {\n        level: 1,\n        exp: 0\n      },\n      // 被动技能\n      种地: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 19500000\n      },\n      城镇: {\n        level: 1,\n        exp: 0\n      },\n      // 非战斗技能\n      伐木: {\n        level: 1,\n        exp: 0,\n        masteryPool: 100,\n        masteryPoolMax: 10000000\n      },\n      钓鱼: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 20000000\n      },\n      生火: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 10000000\n      },\n      烹饪: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 27000000\n      },\n      采矿: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 11500000\n      },\n      锻造: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 106000000\n      },\n      扒窃: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 17000000\n      },\n      弓匠: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 49500000\n      },\n      制造: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 57000000\n      },\n      符文锻造: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 69500000\n      },\n      草药学: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 26000000\n      },\n      敏捷训练: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 39500000\n      },\n      召唤: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 14500000\n      },\n      天文学: {\n        level: 1,\n        exp: 0,\n        masteryPool: 0,\n        masteryPoolMax: 8000000\n      },\n      转换魔法: {\n        level: 1,\n        exp: 0\n      }\n    }\n  }),\n  getters: {\n    calCombatLevel() {\n      const defenseCombatLevel = 0.25 * (this.skills['防御'].level + this.skills['生命值'].level + 0.5 * this.skills['祝祭'].level);\n      const meleeCombatLevel = 0.75 * (this.skills['攻击'].level + this.skills['力量'].level);\n      const rangedCombatLevel = 1.5 * this.skills['远程'].level;\n      const magicCombatLevel = 1.5 * this.skills['魔法'].level;\n      const attackCombatLevel = magicCombatLevel + rangedCombatLevel + meleeCombatLevel;\n      return Math.floor(defenseCombatLevel + 0.75 * attackCombatLevel);\n    },\n    getMaxExp() {\n      return level => levelList[level];\n    }\n  },\n  actions: {\n    addExp(skillName, expToAdd) {\n      let maxExp = this.getMaxExp(this.skills[skillName].level);\n      let skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\n      skill.exp += expToAdd;\n      // console.log(`现在${skillName}技能的经验值为：${skill.exp}` )\n      // console.log(`现在${skillName}技能的经验值为：${this.skills[skillName].exp}` )\n      while (skill.exp >= maxExp && skill.level < 99) {\n        skill.level++;\n        maxExp = this.getMaxExp(this.skills[skillName].level);\n        // console.log(`现在${skillName}技能等级为：${skill.level}` )\n        // console.log(`现在${skillName}技能最大经验值为：${maxExp}` )\n      }\n      this.skills[skillName] = skill;\n    },\n    getMasteryExp(masteryLevel, itemNumber, actionTime) {\n      const result = masteryLevel * itemNumber / 10 * actionTime * 0.5;\n      return result;\n    },\n    addMasteryPoolExp(skillName, expToAdd) {\n      const skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\n      skill.masteryPool += expToAdd;\n      this.skills[skillName] = skill;\n    },\n    costMasteryPoolExp(skillName, expToCost) {\n      const skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\n      while (skill.masteryPool >= expToCost) {\n        skill.masteryPool -= expToCost;\n      }\n      this.skills[skillName] = skill;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","levelList","useSkillStore","state","skills","战斗等级","level","攻击","exp","力量","防御","生命值","远程","魔法","祝祭","屠杀者","种地","masteryPool","masteryPoolMax","城镇","伐木","钓鱼","生火","烹饪","采矿","锻造","扒窃","弓匠","制造","符文锻造","草药学","敏捷训练","召唤","天文学","转换魔法","getters","calCombatLevel","defenseCombatLevel","meleeCombatLevel","rangedCombatLevel","magicCombatLevel","attackCombatLevel","Math","floor","getMaxExp","actions","addExp","skillName","expToAdd","maxExp","skill","console","error","getMasteryExp","masteryLevel","itemNumber","actionTime","result","addMasteryPoolExp","costMasteryPoolExp","expToCost"],"sources":["C:/Users/10433/Downloads/vues/vue-cli-01-a-new-vue-project/src/stores/expPark.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\nimport { levelList } from '../data/levelList';\r\nexport const useSkillStore = defineStore('skills', {\r\n  state: () => ({\r\n    skills: {\r\n        战斗等级:{level: 1},\r\n        攻击: { level: 1, exp: 0 },\r\n        力量: { level: 1, exp: 0 },\r\n        防御: { level: 1, exp: 0 },\r\n        生命值: { level: 10, exp: 0 },\r\n        远程: { level: 1, exp: 0 },\r\n        魔法: { level: 1, exp: 0 },\r\n        祝祭: { level: 1, exp: 0 },\r\n        屠杀者: { level: 1, exp: 0 },\r\n        // 被动技能\r\n        种地: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 19500000},\r\n        城镇: { level: 1, exp: 0 },\r\n  \r\n        // 非战斗技能\r\n        伐木: { level: 1, exp: 0, masteryPool: 100, masteryPoolMax: 10000000},\r\n        钓鱼: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 20000000},\r\n        生火: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 10000000},\r\n        烹饪: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 27000000},\r\n        采矿: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 11500000},\r\n        锻造: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 106000000},\r\n        扒窃: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 17000000},\r\n        弓匠: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 49500000},\r\n        制造: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 57000000},\r\n        符文锻造: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 69500000},\r\n        草药学: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 26000000},\r\n        敏捷训练: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 39500000},\r\n        召唤: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 14500000},\r\n        天文学: { level: 1, exp: 0, masteryPool: 0, masteryPoolMax: 8000000},\r\n        转换魔法: { level: 1, exp: 0},\r\n    }\r\n  }),\r\n  getters:{\r\n    calCombatLevel(){\r\n        const defenseCombatLevel = 0.25 * (this.skills['防御'].level + this.skills['生命值'].level + 0.5 * this.skills['祝祭'].level)\r\n        const meleeCombatLevel = 0.75 * (this.skills['攻击'].level + this.skills['力量'].level);\r\n        const rangedCombatLevel = 1.5 * this.skills['远程'].level;\r\n        const magicCombatLevel = 1.5 * this.skills['魔法'].level;\r\n        const attackCombatLevel = magicCombatLevel + rangedCombatLevel + meleeCombatLevel;\r\n        return Math.floor(defenseCombatLevel + 0.75 * attackCombatLevel);\r\n    },\r\n    getMaxExp() {\r\n        return (level) => levelList[level];\r\n      },\r\n  },\r\n  actions: {\r\n    addExp(skillName, expToAdd) {\r\n      let maxExp = this.getMaxExp(this.skills[skillName].level);\r\n      let skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\r\n      skill.exp += expToAdd;\r\n      // console.log(`现在${skillName}技能的经验值为：${skill.exp}` )\r\n      // console.log(`现在${skillName}技能的经验值为：${this.skills[skillName].exp}` )\r\n      while (skill.exp >= maxExp && skill.level < 99) {\r\n        skill.level++;\r\n        maxExp = this.getMaxExp(this.skills[skillName].level)\r\n        // console.log(`现在${skillName}技能等级为：${skill.level}` )\r\n        // console.log(`现在${skillName}技能最大经验值为：${maxExp}` )\r\n      }\r\n      this.skills[skillName] = skill;\r\n    },\r\n    getMasteryExp(masteryLevel,itemNumber,actionTime){\r\n      const result = masteryLevel * itemNumber/10 * actionTime * 0.5;\r\n      return result; \r\n    },\r\n    addMasteryPoolExp(skillName, expToAdd) {\r\n        const skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\r\n        skill.masteryPool += expToAdd;\r\n        this.skills[skillName] = skill;\r\n    },\r\n    costMasteryPoolExp(skillName, expToCost) {\r\n        const skill = this.skills[skillName] || console.error('the skillName is wrong:', skillName);\r\n        while (skill.masteryPool >= expToCost) {\r\n            skill.masteryPool -= expToCost;\r\n        }\r\n        this.skills[skillName] = skill;\r\n    },\r\n  },\r\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,SAAS,QAAQ,mBAAmB;AAC7C,OAAO,MAAMC,aAAa,GAAGF,WAAW,CAAC,QAAQ,EAAE;EACjDG,KAAK,EAAEA,CAAA,MAAO;IACZC,MAAM,EAAE;MACJC,IAAI,EAAC;QAACC,KAAK,EAAE;MAAC,CAAC;MACfC,EAAE,EAAE;QAAED,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBC,EAAE,EAAE;QAAEH,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBE,EAAE,EAAE;QAAEJ,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBG,GAAG,EAAE;QAAEL,KAAK,EAAE,EAAE;QAAEE,GAAG,EAAE;MAAE,CAAC;MAC1BI,EAAE,EAAE;QAAEN,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBK,EAAE,EAAE;QAAEP,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBM,EAAE,EAAE;QAAER,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACxBO,GAAG,EAAE;QAAET,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MACzB;MACAQ,EAAE,EAAE;QAAEV,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEC,EAAE,EAAE;QAAEb,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAE,CAAC;MAExB;MACAY,EAAE,EAAE;QAAEd,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,GAAG;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACnEG,EAAE,EAAE;QAAEf,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEI,EAAE,EAAE;QAAEhB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEK,EAAE,EAAE;QAAEjB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEM,EAAE,EAAE;QAAElB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEO,EAAE,EAAE;QAAEnB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAS,CAAC;MAClEQ,EAAE,EAAE;QAAEpB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjES,EAAE,EAAE;QAAErB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEU,EAAE,EAAE;QAAEtB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEW,IAAI,EAAE;QAAEvB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACnEY,GAAG,EAAE;QAAExB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MAClEa,IAAI,EAAE;QAAEzB,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACnEc,EAAE,EAAE;QAAE1B,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAQ,CAAC;MACjEe,GAAG,EAAE;QAAE3B,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAO,CAAC;MACjEgB,IAAI,EAAE;QAAE5B,KAAK,EAAE,CAAC;QAAEE,GAAG,EAAE;MAAC;IAC5B;EACF,CAAC,CAAC;EACF2B,OAAO,EAAC;IACNC,cAAcA,CAAA,EAAE;MACZ,MAAMC,kBAAkB,GAAG,IAAI,IAAI,IAAI,CAACjC,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK,GAAG,IAAI,CAACF,MAAM,CAAC,KAAK,CAAC,CAACE,KAAK,GAAG,GAAG,GAAG,IAAI,CAACF,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK,CAAC;MACtH,MAAMgC,gBAAgB,GAAG,IAAI,IAAI,IAAI,CAAClC,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK,GAAG,IAAI,CAACF,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK,CAAC;MACnF,MAAMiC,iBAAiB,GAAG,GAAG,GAAG,IAAI,CAACnC,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK;MACvD,MAAMkC,gBAAgB,GAAG,GAAG,GAAG,IAAI,CAACpC,MAAM,CAAC,IAAI,CAAC,CAACE,KAAK;MACtD,MAAMmC,iBAAiB,GAAGD,gBAAgB,GAAGD,iBAAiB,GAAGD,gBAAgB;MACjF,OAAOI,IAAI,CAACC,KAAK,CAACN,kBAAkB,GAAG,IAAI,GAAGI,iBAAiB,CAAC;IACpE,CAAC;IACDG,SAASA,CAAA,EAAG;MACR,OAAQtC,KAAK,IAAKL,SAAS,CAACK,KAAK,CAAC;IACpC;EACJ,CAAC;EACDuC,OAAO,EAAE;IACPC,MAAMA,CAACC,SAAS,EAAEC,QAAQ,EAAE;MAC1B,IAAIC,MAAM,GAAG,IAAI,CAACL,SAAS,CAAC,IAAI,CAACxC,MAAM,CAAC2C,SAAS,CAAC,CAACzC,KAAK,CAAC;MACzD,IAAI4C,KAAK,GAAG,IAAI,CAAC9C,MAAM,CAAC2C,SAAS,CAAC,IAAII,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEL,SAAS,CAAC;MACzFG,KAAK,CAAC1C,GAAG,IAAIwC,QAAQ;MACrB;MACA;MACA,OAAOE,KAAK,CAAC1C,GAAG,IAAIyC,MAAM,IAAIC,KAAK,CAAC5C,KAAK,GAAG,EAAE,EAAE;QAC9C4C,KAAK,CAAC5C,KAAK,EAAE;QACb2C,MAAM,GAAG,IAAI,CAACL,SAAS,CAAC,IAAI,CAACxC,MAAM,CAAC2C,SAAS,CAAC,CAACzC,KAAK,CAAC;QACrD;QACA;MACF;MACA,IAAI,CAACF,MAAM,CAAC2C,SAAS,CAAC,GAAGG,KAAK;IAChC,CAAC;IACDG,aAAaA,CAACC,YAAY,EAACC,UAAU,EAACC,UAAU,EAAC;MAC/C,MAAMC,MAAM,GAAGH,YAAY,GAAGC,UAAU,GAAC,EAAE,GAAGC,UAAU,GAAG,GAAG;MAC9D,OAAOC,MAAM;IACf,CAAC;IACDC,iBAAiBA,CAACX,SAAS,EAAEC,QAAQ,EAAE;MACnC,MAAME,KAAK,GAAG,IAAI,CAAC9C,MAAM,CAAC2C,SAAS,CAAC,IAAII,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEL,SAAS,CAAC;MAC3FG,KAAK,CAACjC,WAAW,IAAI+B,QAAQ;MAC7B,IAAI,CAAC5C,MAAM,CAAC2C,SAAS,CAAC,GAAGG,KAAK;IAClC,CAAC;IACDS,kBAAkBA,CAACZ,SAAS,EAAEa,SAAS,EAAE;MACrC,MAAMV,KAAK,GAAG,IAAI,CAAC9C,MAAM,CAAC2C,SAAS,CAAC,IAAII,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEL,SAAS,CAAC;MAC3F,OAAOG,KAAK,CAACjC,WAAW,IAAI2C,SAAS,EAAE;QACnCV,KAAK,CAACjC,WAAW,IAAI2C,SAAS;MAClC;MACA,IAAI,CAACxD,MAAM,CAAC2C,SAAS,CAAC,GAAGG,KAAK;IAClC;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}